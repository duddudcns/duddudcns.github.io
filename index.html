<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테트리스 게임 - v1.3.7</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="game-wrapper">
        <div class="game-header">
            <h1>TETRIS <span class="version-badge" onclick="showReleaseNotes()">v1.3.7</span></h1>
        </div>

        <div class="game-content">
            <div class="board-container">
                <canvas id="gameCanvas"></canvas>
            </div>

            <div class="sidebar sidebar-next">
                <div class="panel" style="text-align: center; height: 100%; display: flex; flex-direction: column;">
                    <div class="panel-label">다음 블록들</div>
                    <div class="next-preview-container">
                        <canvas id="nextCanvas"></canvas>
                    </div>
                </div>
            </div>

            <div class="sidebar sidebar-stats">
                <div class="panel">
                    <div class="panel-label">점수</div>
                    <div id="score" class="stat-value">000000</div>
                </div>

                <div class="panel">
                    <div class="panel-label">레벨</div>
                    <div id="level" class="stat-value">1</div>
                </div>

                <div class="panel">
                    <div class="button-group">
                        <button onclick="togglePause()" id="pauseBtn">일시정지</button>
                        <button onclick="resetGame()">재시작</button>
                    </div>
                </div>

                <div class="panel controls-info">
                    <div class="panel-label">조작방법</div>
                    <div>방향키 : 이동 / 하강</div>
                    <div>W / ↑ : 회전</div>
                    <div>Space : 즉시 하강</div>
                    <div>P : 일시정지</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 게임 오버 모달 -->
    <div id="gameOverModal" class="modal">
        <div class="modal-content">
            <h2>게임 오버</h2>
            <p>최종 점수: <span id="finalScore">0</span></p>
            <button onclick="resetGame()">다시 도전</button>
        </div>
    </div>

    <!-- 릴리즈 노트 모달 -->
    <div id="releaseNotesModal" class="modal">
        <div class="modal-content">
            <h2>🚀 릴리즈 노트</h2>

            <div class="release-item">
                <div class="release-version">v1.3.7 - 버그 수정 및 최적화</div>
                <ul class="release-list">
                    <li>하드 드롭 시 발생하던 렌더링 에러 수정</li>
                    <li>잔상 효과 계산 로직 안정화</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.3.6 - 연출 타이밍 및 간소화</div>
                <ul class="release-list">
                    <li>화면 흔들림 및 가로선 효과 제거</li>
                    <li>수직 강하 애니메이션(Drop Trail) 추가</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.3.4 - 연출 효과 및 배치 최적화</div>
                <ul class="release-list">
                    <li>컬럼 순서 변경 (게임판 | 다음 블록 | 정보)</li>
                    <li>라인 삭제 시 발광 효과 및 하드 드롭 착지 효과 추가</li>
                    <li>미리보기 영역 높이를 콘텐츠에 최적화</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.3.3 - 3단 컬럼 레이아웃 적용</div>
                <ul class="release-list">
                    <li>화면 세로 늘어짐 방지를 위해 3단 컬럼 구조로 개편</li>
                    <li>UI 요소 재배치 및 가독성 개선</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.3.2 - 레이아웃 및 캔버스 크기 수정</div>
                <ul class="release-list">
                    <li>캔버스 크기가 초기화되지 않아 화면이 깨지던 현상 수정</li>
                    <li>다음 블록 미리보기 영역의 렌더링 범위 정상화</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.3.1 - UI 로딩 버그 수정</div>
                <ul class="release-list">
                    <li>모듈화 이후 발생한 파일 로딩 및 초기화 순서 오류 수정</li>
                    <li>입력 시스템과 게임 엔진 간의 의존성 연결 안정화</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.3.0 - 코드 구조 체계화</div>
                <ul class="release-list">
                    <li>단일 파일 구조에서 모듈형 구조로 전면 개편</li>
                    <li>HTML, CSS, JS 파일 분리 및 조직화</li>
                    <li>Piece 관리, 입력 처리, 게임 엔진 로직의 클래스화</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.2.3 - 랜덤성 및 미리보기 개선</div>
                <ul class="release-list">
                    <li>동일 블록 연속 출현 제한 (최대 2회)</li>
                    <li>다음 블록 미리보기 확장 (총 5개 표시)</li>
                </ul>
            </div>

            <button class="close-btn" onclick="closeReleaseNotes()">닫기</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/constants.js" defer></script>
    <script src="js/models/Piece.js" defer></script>
    <script src="js/systems/InputHandler.js" defer></script>
    <script src="js/systems/GameEngine.js" defer></script>
    <script src="js/main.js" defer></script>
</body>

</html>