<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테트리스 게임 - v1.3.1</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="game-wrapper">
        <div class="game-header">
            <h1>TETRIS <span class="version-badge" onclick="showReleaseNotes()">v1.3.1</span></h1>
        </div>

        <div class="game-content">
            <div class="board-container">
                <canvas id="gameCanvas"></canvas>
            </div>

            <div class="sidebar">
                <div class="panel">
                    <div class="panel-label">점수</div>
                    <div id="score" class="stat-value">000000</div>
                </div>

                <div class="panel">
                    <div class="panel-label">레벨</div>
                    <div id="level" class="stat-value">1</div>
                </div>

                <div class="panel" style="text-align: center;">
                    <div class="panel-label">다음 블록들</div>
                    <div class="next-preview-container">
                        <canvas id="nextCanvas"></canvas>
                    </div>
                </div>

                <div class="panel">
                    <div class="button-group">
                        <button onclick="togglePause()" id="pauseBtn">일시정지</button>
                        <button onclick="resetGame()">재시작</button>
                    </div>
                </div>

                <div class="panel controls-info">
                    <div class="panel-label">조작방법</div>
                    <div>방향키 : 이동 및 하강</div>
                    <div>W / ↑ : 회전</div>
                    <div>Space : 즉시 하강</div>
                    <div>P : 일시정지</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 게임 오버 모달 -->
    <div id="gameOverModal" class="modal">
        <div class="modal-content">
            <h2>게임 오버</h2>
            <p>최종 점수: <span id="finalScore">0</span></p>
            <button onclick="resetGame()">다시 도전</button>
        </div>
    </div>

    <!-- 릴리즈 노트 모달 -->
    <div id="releaseNotesModal" class="modal">
        <div class="modal-content">
            <h2>🚀 릴리즈 노트</h2>

            <div class="release-item">
                <div class="release-version">v1.3.1 - UI 로딩 버그 수정</div>
                <ul class="release-list">
                    <li>모듈화 이후 발생한 파일 로딩 및 초기화 순서 오류 수정</li>
                    <li>입력 시스템과 게임 엔진 간의 의존성 연결 안정화</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.3.0 - 코드 구조 체계화</div>
                <ul class="release-list">
                    <li>단일 파일 구조에서 모듈형 구조로 전면 개편</li>
                    <li>HTML, CSS, JS 파일 분리 및 조직화</li>
                    <li>Piece 관리, 입력 처리, 게임 엔진 로직의 클래스화</li>
                </ul>
            </div>

            <div class="release-item">
                <div class="release-version">v1.2.3 - 랜덤성 및 미리보기 개선</div>
                <ul class="release-list">
                    <li>동일 블록 연속 출현 제한 (최대 2회)</li>
                    <li>다음 블록 미리보기 확장 (총 5개 표시)</li>
                </ul>
            </div>

            <button class="close-btn" onclick="closeReleaseNotes()">닫기</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/constants.js" defer></script>
    <script src="js/models/Piece.js" defer></script>
    <script src="js/systems/InputHandler.js" defer></script>
    <script src="js/systems/GameEngine.js" defer></script>
    <script src="js/main.js" defer></script>
</body>

</html>